<div class="main-container" *ngIf="!isLoading">

  <!--#region " Top Toolbar "-->
  <mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="space-between center">

    <div fxLayout="row" fxLayoutAlign="center center">
      <button mat-fab matTooltip="منو" (click)="nav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <h1 class="sitetitle mr-4">Jupiter</h1>
    </div>

    <div fxLayout="row" fxLayoutAlign="center center">

      <mat-card class="pointer p-1" matTooltip="حساب کاربری" [matMenuTriggerFor]="menu" fxLayoutAlign="center center">
        <span *ngIf="user">{{user.firstName}}</span>
        <img mat-card-avatar src="/assets/images/avatar/DefaultMaleAvatar.jpg">
      </mat-card>

      <mat-menu #menu="matMenu">

        <button mat-menu-item *ngIf="darktheme == 'dark'" (click)="changetheme()">
          <mat-icon>wb_sunny</mat-icon>
          <span>روز</span>
        </button>

        <button mat-menu-item *ngIf="darktheme == 'light'" (click)="changetheme()">
          <mat-icon>brightness_3</mat-icon>
          <span>شب</span>
        </button>

        <button mat-menu-item (click)="logOutUser()">
          <mat-icon>power_settings_new</mat-icon>
          <span>خروج</span>
        </button>

      </mat-menu>

    </div>

  </mat-toolbar>

  <!--#endregion "End Top Toolbar "-->

  <mat-sidenav-container class="sidenav-container">

    <!--#region " Side Nav "-->
    <mat-sidenav #nav mode="over" fixedTopGap="56">
      <mat-nav-list>
        <a mat-list-item routerLink="/">
          <mat-icon class="mx-3">home</mat-icon>
          خانه</a>
        <a mat-list-item>
          <mat-icon class="mx-3">info</mat-icon>
          درباره ما</a>
        <a mat-list-item>
          <mat-icon class="mx-3">contact_phone</mat-icon>
          نماس با ما</a>
      </mat-nav-list>
    </mat-sidenav>
    <!--#endregion "End Side Nav "-->

    <mat-sidenav-content>
      <router-outlet [class.dark-mode]="darktheme"></router-outlet>
    </mat-sidenav-content>

  </mat-sidenav-container>

</div>

<!--#region " Spinner " -->
<div fxLayout="column" fxLayoutAlign="center center" class="spinner" *ngIf="isLoading">
  <div>
    <mat-spinner></mat-spinner>
  </div>
</div>
<!--#endregion " End Spinner " -->
